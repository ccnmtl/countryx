{% extends "sim/base_sim.html" %}

{% block css %}
{{ block.super }}
<style type='text/css'>
  @import "/sim/media/css/faculty.css";
</style>
{% endblock %}

{% block content %}
   {{ block.super }}
   <br />
    <table class="datagrid" style="width: 800px">
      <thead>
         <tr>
            <th style="width: 200px">{{section}}</th>
            <th />
            <th />
         </tr>
      </thead>   
   </table>
   <br />
   <br />
   
   <table id="sortable_table" class="datagrid">
      <thead>
         <tr>
            <th mochi:format="int">Group Turn</th>
            <th mochi:format="str">Group</th>
            <th>Current State</th>
            <th mochi:format="str">Status</th>
            <th>Action</th>
         </tr>
      </thead>
      <tfoot class="invisible">
          <tr>
              <td colspan="0"></td>
          </tr>
      </tfoot>
      <tbody>
         {% for group in section.sectiongroup_set.all %}
            <tr>
	            <td>{{ group.sectiongroupstate_set.latest.state.turn }}</td>
               <td>{{ group.name }}</td>
	    	      <td>{{ group.sectiongroupstate_set.latest.state.name }}</td>
	    	      <td>
	                  {% ifequal group.status 1 %}
	                     No Action Taken
	                  {% endifequal %}
	                  {% ifequal group.status 2 %}
	                     In Progress
	                  {% endifequal %}
	                  {% ifequal group.status 4 %}
	                     Completed Turn
	                  {% endifequal %}
	             </td>
	             <td><a href="/sim/faculty/group/{{ group.id }}/">View Detail</a></td>
	          </tr>
	      {% endfor %}
	   </tbody>
   </table>
   
{% endblock %}